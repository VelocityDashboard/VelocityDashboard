<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <style>
        :root { --primary-color: #673ab7; --secondary-color: #424242; --text-color: #eee; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; display: flex; min-height: 100vh; background-color: #303030; color: var(--text-color); overflow: hidden; }
        .sidebar { width: 260px; background-color: var(--secondary-color); padding: 20px; box-sizing: border-box; overflow-y: auto; position: fixed; height: 100%; border-right: 1px solid #333; }
        .sidebar h2 { margin-top: 0; margin-bottom: 30px; color: var(--text-color); font-weight: 600; }
        .sidebar a { display: block; padding: 10px 15px; margin-bottom: 8px; background-color: #333; color: var(--text-color); text-decoration: none; border-radius: 4px; transition: background-color 0.2s ease, transform 0.1s ease; }
        .sidebar a:hover { background-color: var(--primary-color); transform: scale(1.01); }
        .sidebar a.disabled { background-color: #555; color: #888; cursor: default; pointer-events: none; }
        .content { flex-grow: 1; padding: 30px; margin-left: 260px; box-sizing: border-box; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .content h1 { font-size: 2.8em; margin-bottom: 20px; color: var(--text-color); }
        footer { background-color: var(--secondary-color); padding: 15px; text-align: center; width: 100%; box-sizing: border-box; position: fixed; bottom: 0; border-top: 1px solid #333; }
        footer a { color: #aaa; text-decoration: none; margin: 0 10px; }
        .error-message { color: #ff5733; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2>Navigation</h2>
        <a id="panelLink" href="#">Panel</a>
        <a href="/">Home</a>
    </div>
    <div class="content">
        <h1>Hello, <%= username %>!</h1>
        <% if (errorMessage) { %>
            <p class="error-message"><%= errorMessage %></p>
        <% } %>
    </div>
    <footer>
        &copy; 2023 VelocityDashboard. All rights reserved.</a>
    </footer>

    <script>
        fetch('/panelUrl')
            .then(response => response.json())
            .then(data => {
                const panelLink = document.getElementById('panelLink');
                if (data.panelUrl) {
                    panelLink.href = data.panelUrl;
                } else {
                    panelLink.textContent = "Panel (Not Configured)";
                    panelLink.classList.add('disabled');
                }
            })
            .catch(error => {
                console.error('Error fetching panel URL:', error);
                const panelLink = document.getElementById('panelLink');
                panelLink.textContent = "Panel (Error)";
                panelLink.classList.add('disabled');
            });
    </script>
</body>
</html>
